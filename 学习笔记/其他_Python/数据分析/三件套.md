# 一 numpy

## 1.1 简介

> numpy是什么

- 一个开源的python科学计算库
- 使用Numpy可以方便的使用数组、矩阵进行计算
- 包含线性代数、傅里叶变换、随机数生成等大量函数

> 为什么使用numpy

- 对于同样的数值计算任务，使用numpy比python代码实现
  - 代码更简洁：numpy直接以数组、矩阵为颗粒计算并且支持大量的数学函数，而且python需要用for循环从底层实现
  - 性能更高效：Numpy的数组存储效率和输入输出计算性能，比python使用List或者嵌套List好很多
    - 注：Numpy的数据存储和python原生的List是不一样的
    - 注：Numpy的大部分代码都是C语言实现的，这是比纯Python更快的原因之一
- Numpy是python各种数据科学类库的基础库
  - 比如：Scipy，Scikit-learn、TensorFlow、Pandas等



## 1.2 ndarray对象

- Numpy定义了一个**n维数组对象**，简称ndarray对象，它是一个一系列**相同类型元素**组成的数组集合。数组的每个元素都占有大小相同的内存块。
- ndarray对象采用了数组的**索引机制**，将数组中的每个元素**映射**到内存块上，并且按照一定的布局对内存块进行排列。

### 1.2.1 创建数组

#### 1.2.1.1 array() 

```python
numpy.array(object,dtype=None,copy=True,order=None,subok=False,ndmin=0)
# object 表示一个数组序列
# dtype 默认值参数，通过它可以更改数组的数据类型
# copy 默认值参数，当数据源是ndarray时表示数组能否被复制，默认是True
# order 默认值参数，以哪种内存布局创建数组，有3个可选值，分别是 C/F/A  (行序列/列序列/默认)
# subok 默认值参数，类型为Bool，默认False。为True，使用object的内部数据类型；False，使用object数组的数据类型
# admin 用于指定数组的维度
```



```python
import numpy as np

#np.array()

# np.array(object,dtype,copy,ndmin,subok)

arr1 = np.array([1, 2, 3, 4, 5])
print(arr1,type(arr1))

arr2 = np.array(range(10))
print(arr2,type(arr2))

arr3 = np.array([i**2 for i in range(10)])
print(arr3,type(arr3))

# 创建10以内的偶数的数组
test1 = np.array([i for i in range(11) if i % 2 == 0])
print(test1,type(test1))

# 列表中的元素类型必须相同,若不相同则谁最大变谁
arr4 = np.array([1,2,3,'4',1.1])
print(arr4,type(arr4)) # 全部改为字符串类型   str>float>int

arr5 = np.array([
    [1,2,3],
    ('a','b','c')
]) # 二维数组：嵌套序列（列表，元组均可）
print(arr5,type(arr5))


arr6 = np.array([
    [1,2,3],
    ('a','b','c','d')
]) # 行列不对其情况 ,会有提示信息，不会变成2维，仍然是1维
print(arr6,type(arr6))

# 1.设置dtype参数，默认自动识别

arr7 = np.array([1,2,3,4,5],dtype='str') # 自动识别为字符串类型
print(arr7)

arr8 = np.array([1.1,2.2,3.3,4.4,5.5,6.6],dtype='int') # 浮点->字符串
print(arr8)

arr9 = np.array([1,2,3,4,5])
# 定义a 赋值 arr9
a = arr9
# 定义b 复制 arr9
b = np.array(arr9)
# 输出 arr9 和 a 和 b的id
print('arr9:',id(arr9),'a:',id(a),'b:',id(b))
print('arr9和a的地址相同，但是b是一个新的数组')


# 3.ndmin 用于指定数组的维度
a = np.array([1,2,3])
print(a)

a = np.array([1,2,3],ndmin=2)
print(a)

a = np.array([1,2,3],ndmin=3)
print(a)


# 4.subok 类型为bool。默认false。True使用object的内部数据类型；False使用object数组的数据类型

a = np.array(np.mat([1,2,3,4]))
b = np.array(np.mat([1,2,3,4]),subok=True)
# 输出为矩阵类型
print(a,type(a))
print(b,type(b))

```



#### 1.2.1.2 arange()

```python
np.arange(start,stop,step,dtype)
注：
	1.包头不包尾，步长默认为1
    2.和普通range不同，arange还支持浮点型，不过注意浮点型的不精确 如3.0不等于3 是3.000001
```

```python
arr1 = np.arange(10)
print(arr1,type(arr1))
arr2 = np.arange(3,0,-1)
print(arr2,type(arr2))

arr3 = np.arange(3.1) # 和range不同，可以放入小数，向下取 [0. 1. 2. 3.]
print(arr3,type(arr3)) # [0. 1. 2. 3.]

arr4 = np.arange(5,dtype='float')
print(arr4) # [0. 1. 2. 3. 4.]

```

#### 1.2.1.3 等差数列linspace()

数组是一个等差的数列

```python
np.linspace(start,stop,num=50,endpoint=True,retstep=False,dtype=None)
# num 要生成的等步长的样本数量
# endpoint 该值为true时，包尾，否则不包尾
# retstep 该值为true时，生成的数组中会显示间距，否则不显示
# dtype ndarray的数据类型
```

































